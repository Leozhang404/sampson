!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(r.probably=r.probably||{})}(this,function(r){"use strict";function t(r,t){if(t>r)return NaN;for(var e=1,n=1;t>=n;n++)e*=r--,e/=n;return e}function e(r){var t=1/(1+.5*Math.abs(r)),e=t*Math.exp(-(r*r)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return r>=0?1-e:e-1}function n(r){return 0>r?NaN:0==r?1:r*n(r-1)}function o(r){if(0>r)return NaN;for(var t=E[0],e=E.length-1;e>0;--e)t+=E[e]/(r+e);var n=r+N+.5;return.5*Math.log(2*Math.PI)+(r+.5)*Math.log(n)-n+Math.log(t)-Math.log(r)}function a(r){var t=r;if(0>t&&t%1==0)return 1/0;if(.5>t)return Math.PI/(Math.sin(Math.PI*t)*a(1-t));if(t>100)return Math.exp(o(t));t-=1;for(var e=O[0],n=1;C+2>n;n++)e+=O[n]/(t+n);var u=t+C+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,t+.5)*Math.exp(-u)*e}function u(r,t){var e=void 0,n=void 0,a=void 0;for(a=1,e=1,n=1;100>a&&(e+=n*=t/(r+a),!(q>n/e));++a);return Math.exp(r*Math.log(t)-t-o(r+1)+Math.log(e))}function i(r){if(0==r.length)return 0;var t=0;return r.reduce(function(r,e){var n=e-t,o=r+n;return t=o-r-n,o},0)}function s(r){return 0==r.length?NaN:i(r)/r.length}function c(r){if(0==r.length)return NaN;if(1==r.length)return r;var t=function(){var t=r.reduce(function(r,t){return r[t]?r[t]++:r[t]=1,r},{}),e=Object.keys(t),n=e.map(function(r){return t[r]}).reduce(function(r,t){return t>r?t:r});return{v:e.filter(function(r){return t[r]==n}).map(function(r){return Number(r)})}}();return"object"===("undefined"==typeof t?"undefined":k["typeof"](t))?t.v:void 0}function f(r,t,e,n){var o=r.slice(0);if(0==o.length||t>=o.length)return NaN;var a=e||0,u=n||o.length-1;if(a==u)return o[a];for(;u>a;){if(u-a>z){var i=u-a+1,s=t-a+1,c=Math.log(i),h=P*Math.exp(2*c/3),d=P*Math.sqrt(c*h*(i-h)/i),v=Math.max(a,Math.floor(t-s*h/i+d)),m=Math.min(u,Math.floor(t+(i-s)*h/i+d));f(o,t,v,m)}var p=o[t],y=a,b=u;for(l(o,y,t),o[b]>p&&l(o,y,b);b>y;){for(l(o,y,b),y++,b--;o[y]<p;)y++;for(;o[b]>p;)b--}o[a]===p?l(o,a,b):(b++,l(o,b,u)),b>t?u=b-1:(a=b+1,u=b-1)}return o[t]}function l(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function h(r){var t=void 0;if(0==r.length)t=NaN;else{var e=r.length%2==0;e?(t=f(r,r.length/2),t+=f(r,r.length/2-1),t/=2):t=f(r,(r.length-1)/2)}return t}function d(r,t){if(void 0==t||t>1||0>t)throw new Error("p must be between zero and one inclusive.");if(void 0==r)throw new Error("need a list to provide a percentile.");if(0==r.length)return NaN;var e=Math.floor(r.length*t);return e>=r.length&&(e=r.length-1),f(r,e)}function v(r,t){if(!Array.isArray(r)||0==r.length)throw new Error("you must provide an array.");if(!Array.isArray(t)||0==t.length)throw new Error("you must provide some quantiles.");var e=t.reduce(function(r,t){return t>=0&&1>=t&&r},!0);if(!e)throw new Error("quantiles must be between zero and one inclusive.");if(t.length>1)return t.map(function(t){return v(r,[t])});var n=t[0];if(0==n)return r[0];if(1==n)return r[r.length-1];var o=r.length*n;return o%1?f(r,Math.floor(o)):r.length%2?f(r,o):(f(r,o-1)+f(r,o))/2}function m(r){return 0==r.length?NaN:Math.max.apply(Math,k.toConsumableArray(r))-Math.min.apply(Math,k.toConsumableArray(r))}function p(r,t,e){if(0==r.length)return NaN;var n=function(){var n=s(r);return{v:r.reduce(function(r,o){var a=o-n;return e&&(a=Math.abs(a)),r+Math.pow(a,t)},0)}}();return"object"===("undefined"==typeof n?"undefined":k["typeof"](n))?n.v:void 0}function y(r){return 0==r.length?NaN:p(r,2)/r.length}function b(r){var t=y(r);return isNaN(t)?0:Math.sqrt(t)}function w(r){return(r+.5)*Math.log(r)-r+Math.log(2*Math.PI)/2}function g(r,t,e){return(r-t)/e}function M(r,t,e){if(!r)return NaN;if(t){var n=e||0,o=((r.size-1)*r.variance+(t.size-1)*t.variance)/(r.size+t.size-2);return(r.mean-t.mean-n)/Math.sqrt(o*(1/r.size+1/t.size))}return(r.mean-e)/(r.std/Math.sqrt(r.size))}var k={};k["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol?"symbol":typeof r},k.classCallCheck=function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")},k.createClass=function(){function r(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}}(),k.get=function F(r,t,e){null===r&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,t);if(void 0===n){var o=Object.getPrototypeOf(r);return null===o?void 0:F(o,t,e)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(e)},k.inherits=function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(r,t):r.__proto__=t)},k.possibleConstructorReturn=function(r,t){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?r:t},k.toConsumableArray=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)};var N=607/128,E=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],C=7,O=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],q=1e-14,z=600,P=.5,D=function(){function r(){k.classCallCheck(this,r)}return k.createClass(r,null,[{key:"random",value:function(){return Math.random()}}]),r}();D.covariates=0,D.discrete=!1;var j=NaN,A=function(r){function t(r,e){if(k.classCallCheck(this,t),"number"!=typeof r||"number"!=typeof e)throw new Error("Need mu and sigma for the normal distribution.");var n=k.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return n.pdf=function(r){return n.constructor.pdf(r,n.mu,n.sigma)},n.cdf=function(r){return n.constructor.cdf(r,n.mu,n.sigma)},n.random=function(){return n.constructor.random(n.mu,n.sigma)},n.sample=function(r){return n.constructor.sample(r,n.mu,n.sigma)},n.mu=r,n.sigma=e,n.variance=e*e,n}return k.inherits(t,r),k.createClass(t,null,[{key:"random",value:function(r,e){if("number"!=typeof r||"number"!=typeof e)throw new Error("Need mu and sigma for the normal distribution.");var n=j;if(j=NaN,!n){var o=2*k.get(Object.getPrototypeOf(t),"random",this).call(this)*Math.PI,a=Math.sqrt(-2*Math.log(1-k.get(Object.getPrototypeOf(t),"random",this).call(this)));n=Math.cos(o)*a,j=Math.sin(o)*a}return r+n*e}},{key:"sample",value:function(r,t,e){var n=this;return Array.apply(null,Array(r)).map(function(){return n.random(t,e)})}},{key:"pdf",value:function(r,t,e){if("number"!=typeof r)throw new Error("x must be a number.");if("number"!=typeof t||"number"!=typeof e)throw new Error("Need mu and sigma for the normal distribution.");r/Math.abs(e);return 1/(Math.sqrt(2*Math.PI)*Math.abs(e))*Math.exp(-1*Math.pow(r-t,2)/(2*e*e))}},{key:"cdf",value:function(r,t,n){if("number"!=typeof r)throw new Error("x must be a number.");if("number"!=typeof t||"number"!=typeof n)throw new Error("Need mu and sigma for the normal distribution.");return.5*(1+e((r-t)/(n*Math.sqrt(2))))}}]),t}(D);A.covariates=2,A.discrete=!1;var x=function(r){function t(r,e){if(k.classCallCheck(this,t),"number"!=typeof r||"number"!=typeof e)throw new Error("Need mu and sigma for the gamma distribution.");if(0>=r)throw new Error("a must be greater than zero.");if(0>=e)throw new Error("b must be greater than zero.");var n=k.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return n.pdf=function(r){return n.constructor.pdf(r,n.a,n.b)},n.cdf=function(r){return n.constructor.cdf(r,n.a,n.b)},n.random=function(){return n.constructor.random(n.a,n.b)},n.sample=function(r){return n.constructor.sample(r,n.a,n.b)},n.a=r,n.b=e,n.mu=r/e,n.variance=r/(e*e),n}return k.inherits(t,r),k.createClass(t,null,[{key:"random",value:function(r,e){if("number"!=typeof r||"number"!=typeof r)throw new Error("Need mu and sigma for the gamma distribution.");if(0>=r)throw new Error("a must be greater than zero.");if(0>=e)throw new Error("b must be greater than zero.");if(1>r){var n=k.get(Object.getPrototypeOf(t),"random",this).call(this);return this.random(1+r,e)*Math.pow(n,1/r)}for(var o=void 0,a=void 0,u=void 0,i=r-1/3,s=1/Math.sqrt(9*i);;){do o=A.random(0,1),a=1+s*o;while(0>=a);for(a=a*a*a;!u;)u=k.get(Object.getPrototypeOf(t),"random",this).call(this);if(1-.0331*o*o*o*o>u)break;if(Math.log(u)<.5*o*o+i*(1-a+Math.log(a)))break}return i*a/e}},{key:"pdf",value:function(r,t,e){if("number"!=typeof t||"number"!=typeof e)throw new Error("Need a and b for the gamma distribution.");if("number"!=typeof r)throw new Error("x must be a number.");if(0>=t)throw new Error("a must be greater than zero.");if(0>=e)throw new Error("b must be greater than zero.");return 0>r?0:0==r?1==t?e:0:1==t?Math.exp(-r*e)*e:Math.exp((t-1)*Math.log(r*e)-r*e-o(t))*e}},{key:"cdf",value:function(r,t,e){if("number"!=typeof t||"number"!=typeof e)throw new Error("Need mu and sigma for the gamma distribution.");if("number"!=typeof r)throw new Error("x must be a number.");if(0>=t)throw new Error("a must be greater than zero.");if(0>=e)throw new Error("b must be greater than zero.");return 0>=r?0:u(t,r*e)}},{key:"sample",value:function(r,t,e){var n=this;return Array.apply(null,Array(r)).map(function(){return n.random(t,e)})}}]),t}(D);x.covariates=2,x.discrete=!1;var S=14,I=function(r){function e(r,t){if(k.classCallCheck(this,e),void 0==r||r>1||0>r)throw new Error("p must be between 0 and 1.");if(void 0==t||0>t)throw new Error("n must be positive or zero.");var n=k.possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this));return n.pdf=function(r){return n.constructor.pmf(r,n.p,n.n)},n.cdf=function(r){return n.constructor.cdf(r,n.p,n.n)},n.random=function(){return n.constructor.random(n.p,n.n)},n.sample=function(r){return n.constructor.sample(r,n.p,n.n)},n.p=r,n.n=t,n.mu=n.constructor.mean(r,t),n.variance=n.constructor.variance(r,t),n.stdDev=n.constructor.stdDev(r,t),n.relStdDev=n.constructor.relativeStdDev(r,t),n.skewness=n.constructor.skewness(r,t),n.kurtosis=n.constructor.kurtosis(r,t),n}return k.inherits(e,r),k.createClass(e,null,[{key:"mean",value:function(r,t){return t*r}},{key:"variance",value:function(r,t){return t*r*(1-r)}},{key:"stdDev",value:function(r,t){return Math.sqrt(t*r*(1-r))}},{key:"relativeStdDev",value:function(r,t){return Math.sqrt((1-r)/(t*r))}},{key:"skewness",value:function(r,t){return(1-2*r)/Math.sqrt(t*r*(1-r))}},{key:"kurtosis",value:function(r,t){return 3-6/t+1/(t*r*(1-r))}},{key:"random",value:function(r,t){var n=this;if("number"!=typeof r||r>1||0>r)throw new Error("p must be between 0 and 1.");if("number"!=typeof t||0>t)throw new Error("n must be positive or zero.");if(0==t)return 0;var o=!1,a=0,u=void 0;r>.5?(o=!0,u=1-r):u=r;var i=1-u,s=u/i,c=t*u;if(S>c)for(var f=Math.pow(i,t),l=k.get(Object.getPrototypeOf(e),"random",this).call(this);t>=a&&l>=f;)l-=f,f*=s*(t-a)/(a+1),a++;else!function(){var r=c+u,o=Math.floor(r),s=o+.5,f=c*i,l=Math.floor(2.195*Math.sqrt(f)-4.6*i)+.5,h=s-l,d=s+l,v=.134+20.5/(15.3+o),m=l*(1+v+v),p=(r-h)/(r-h*u),y=p*(1+.5*p),b=(d-r)/(d*i),g=b*(1.5+b),M=m+v/y,N=M+v/g,E=void 0,C=void 0,O=void 0,q=void 0,z=function P(){if(O=k.get(Object.getPrototypeOf(e),"random",n).call(n)*N,q=k.get(Object.getPrototypeOf(e),"random",n).call(n),l>=O)a=Math.floor(s-l*q+O);else if(m>=O){var r=h+(O-l)/v;q=q*v+1-Math.abs(r-s)/l,q>1||0>=q?P():a=r}else M>=O?(a=Math.floor(h+Math.log(q)/y),q*=(O-m)*y):(a=Math.floor(d-Math.log(q)/g),q*=(O-M)*g);E=Math.log(q);var c=a+1,f=t-a-1,p=o+1,b=t+1-o;C=s*Math.log(p/c)+(t-o+.5)*Math.log(b/f)+(a-o)*Math.log(f*u/(c*i))+w(p)+w(b)-w(c)-w(f),E>C&&P()};z()}();return Math.floor(o?t-a:a)}},{key:"sample",value:function(r,t,e){var n=this;return Array.apply(null,Array(r)).map(function(){return n.random(t,e)})}},{key:"pmf",value:function(r,e,n){if(0>r||r>n)return 0;var o=void 0;if(0==e)o=0==r?1:0;else{if(1!=e){var a=t(n,r),u=Math.pow(e,r)*Math.pow(1-e,n-r);return"Infinity"==a?0==u?0:a:a*u}o=r==n?1:0}return o}},{key:"cdf",value:function(r,e,n){if("number"!=typeof e||e>1||0>e)throw new Error("p must be between 0 and 1.");if("number"!=typeof r)throw new Error("k must be a number.");if("number"!=typeof n||0>n)throw new Error("n must be positive or zero.");return 0>r?0:r>n?1:Array.apply(null,Array(Math.floor(r)+1)).map(function(r,o){return t(n,o)*Math.pow(e,o)*Math.pow(1-e,n-o)}).reduce(function(r,t){return r+t},0)}}]),e}(D);I.covariates=2,I.discrete=!0;var R=function(r){function t(r){k.classCallCheck(this,t);var e=k.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this,r,1));return e.pdf=function(r){return e.constructor.pmf(r,e.p)},e.cdf=function(r){return e.constructor.cdf(r,e.p)},e.random=function(){return e.constructor.random(e.p)},e.sample=function(r){return Array.apply(null,Array(r)).map(function(){return e.random()})},e}return k.inherits(t,r),k.createClass(t,null,[{key:"random",value:function(r){if(void 0==r||0>r||r>1)throw new Error("p must be between zero and one inclusive.");var t=D.random();return r>t?1:0}},{key:"pmf",value:function(r,t){return 0==r?1-t:1==r?t:0}},{key:"cdf",value:function(r,t){if("number"!=typeof t||t>1||0>t)throw new Error("p must be between zero and one inclusive.");if("number"!=typeof r)throw new Error("k must be a number.");return 1==r?t:0==r?1-t:NaN}}]),t}(I);R.covariates=1;var _=function(r){function t(r){if(k.classCallCheck(this,t),r>=0)throw RangeError("df must be greater than zero.");var e=k.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.pdf=function(r){return e.constructor.pdf(r,e.df)},e.cdf=function(r){return e.constructor.cdf(r,e.df)},e.random=function(){return e.constructor.random(e.df)},e.df=r,e}return k.inherits(t,r),k.createClass(t,null,[{key:"random",value:function(r){return 2*x.random(r/2,1)}},{key:"pdf",value:function(r,t){return 0>=t?NaN:0>r?0:2==t?Math.exp(-r/2)/2:Math.exp((t/2-1)*Math.log(r/2)-r/2-o(t/2)/2)}},{key:"cdf",value:function(r,t){throw new Error("not implemented.")}}]),t}(D);_.covariates=1;var T=function(r){function t(r){if(k.classCallCheck(this,t),r>=0)throw RangeError("df must be greater than zero.");var e=k.possibleConstructorReturn(this,Object.getPrototypeOf(t).call(this));return e.pdf=function(r){return e.constructor.pdf(r,e.df)},e.cdf=function(r){return e.constructor.cdf(r,e.df)},e.random=function(){return e.constructor.random(e.df)},e.sample=function(r){return Array.apply(null,Array(r)).map(function(){return e.random()})},e.df=r,e}return k.inherits(t,r),k.createClass(t,null,[{key:"random",value:function(r){var t=A.random(0,1),e=_.random(r);return t/Math.sqrt(e/r)}},{key:"pdf",value:function(r,t){return 0>=t?NaN:a((t+1)/2)/(Math.sqrt(Math.PI*t)*a(t/2)*Math.pow(Math.pow(1+r,2/t),-(t+1)/2))}},{key:"cdf",value:function(r,t){if(0>=t)return NaN;var e=void 0,n=void 0,o=void 0,a=void 0,u=void 0,i=void 0,s=void 0,c=void 0,f=void 0,l=void 0,h=1/Math.PI;if(o=t,e=r/Math.sqrt(o),n=o/(o+r*r),a=t-2,u=o%2,i=1,s=1,o=1,c=2+u,f=c,a>=2)for(l=c;a>=l;l+=2)s=s*n*(f-1)/f,i+=s,i!=o&&(o=i,f+=2);return 1!=u?.5+.5*e*Math.sqrt(n)*i:(1==t&&(i=0),.5+(e*n*i+Math.atan(e))*h)}}]),t}(D);T.covariates=1;var B=function(){function r(t){var e=this;if(k.classCallCheck(this,r),this.covariance=function(r){return e.constructor.covariance(e,r)},this.correlation=function(r){return e.constructor.correlation(e,r)},0==t.length)throw new Error("Sample of size 0 not allowed.");this.data=t,this.size=t.length,this.mean=s(t),this.std=this.constructor.stdDev(t),this.variance=this.constructor.variance(t),this.skewness=this.constructor.skewness(t),this.kurtosis=this.constructor.kurtosis(t),this.sqrdMeanDev=this.constructor.sqrdMeanDev(t),this.meanDev=this.constructor.meanDev(t),this.rootMeanSqrd=this.constructor.rootMeanSqrd(t),this.stdMeanDev=this.constructor.stdMeanDev(t),this.relStdDev=this.constructor.relativeStdDev(t),this.quartiles=this.constructor.quartiles(t)}return k.createClass(r,null,[{key:"variance",value:function(r){return p(r,2)/(r.length-1)}},{key:"sqrdMeanDev",value:function(r){return p(r,2)}},{key:"meanDev",value:function(r){return p(r,1,!0)/r.length}},{key:"stdDev",value:function(r){var t=this.variance(r);return isNaN(t)?0:Math.sqrt(t)}},{key:"rootMeanSqrd",value:function(r){return Math.sqrt(r.map(function(r){return r*r}).reduce(function(r,t){return r+t})/r.length)}},{key:"stdMeanDev",value:function(r){return this.stdDev(r)/Math.sqrt(r.length)}},{key:"relativeStdDev",value:function(r){return this.stdDev(r)/s(r)}},{key:"quartiles",value:function(r){return v(r,[.25,.5,.75])}},{key:"skewness",value:function(r){var t=this.stdDev(r);if(isNaN(t)||r.length<3)return NaN;var e=r.length,n=Math.pow(t,3),o=p(r,3);return e*o/((e-1)*(e-2)*n)}},{key:"kurtosis",value:function(r){var t=this.stdDev(r);if(isNaN(t)||r.length<3)return NaN;var e=(r.length,p(r,2)),n=p(r,4);return n/Math.pow(e,2)}},{key:"covariance",value:function(r,t){if(!r||!t||r.size<=1||r.size!==t.size)return NaN;var e=r.data.map(function(e,n){return(r.data[n]-r.mean)*(t.data[n]-t.mean)}).reduce(function(r,t){return r+t},0);return e/(r.size-1)}},{key:"correlation",value:function(r,t){if(!(r&&r.std&&t&&t.std))return NaN;var e=this.covariance(r,t);return e/r.std/t.std}}]),r}();r.choose=t,r.error=e,r.factorial=n,r.gamma=a,r.gammainc=u,r.lngamma=o,r.median=h,r.mean=s,r.mode=c,r.percentile=d,r.quantile=v,r.range=m,r.select=f,r.std=b,r.stirling=w,r.sum=i,r.sumNthPowerDev=p,r.variance=y,r.zscore=g,r.Normal=A,r.Binomial=I,r.Bernoulli=R,r.StudentsT=T,r.Gamma=x,r.Sample=B,r.ttest=M});